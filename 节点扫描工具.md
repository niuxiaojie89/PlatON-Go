# 节点扫描工具

## 需求

尽可能多地扫描出整个网络的节点，并输出节点 ID 和 IP。

## 基本原理

利用“节点发现”机制，通过向目标节点请求 targetID 的邻居节点的方式发现新节点，再把新节点作为目标节点继续请求其邻居节点。层层“递归”发送请求，直至扫描出足够多的节点为止。

## 工具提供方式

工具以二进制包的方式提供，可配置四个启动选项：

- 扫描时间：整个扫描任务的持续时间，超过该时间，任务停止。单位 h，默认1 h
- targetID个数：targetID 越多，扫描到新节点的可能性越大。默认32
- 扫描深度：每个 targetID 的“递归”的深度。默认10
- 输出文件路径：任务停止后，节点列表信息的文件输出路径。默认当前路径下 nodes.txt

## 详细步骤

1. 随机生成32个 targetID，遍历每一个 targetID 向网络中的种子节点请求邻居节点（每个目标节点返回不超过16个邻居节点）
2. 把新节点作为目标节点继续请求 targetID 的邻居节点，发现更多新节点，记录到活跃节点列表
3. 再次把新节点作为目标节点，“递归”请求发现节点，直至深度为10
4. 目标节点超过3次无响应，记录到不活跃节点列表
5. 扫描任务超过1h 或者“递归”扫描完成，退出任务
6. 将节点列表信息输出到指定文件



